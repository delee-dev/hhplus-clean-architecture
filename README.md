# 특강 신청 시스템

## ERD
![ERD](readme_img/img.png)

### 요구사항 분석

1. **특강 조회 API**
    - 특정 시간을 기준으로 모집 중인 특강을 조회합니다.
    - 모집 중인 특강은?
        - 특정 시간 기준 모집 기간 내에 있는 특강입니다. (현재는 모집 중이 아닐 수 있습니다.)
        - 정원이 모두 찬 경우에도 수강 취소 인원이 생길 가능성을 대비해 함께 조회 합니다.
2. **신청 목록 API**
    - 특정 유저의 신청 목록 중 현재 시간을 기준으로 강의가 시작되지 않은 특강은 조회 합니다.
    - 현재 상태가 신청 완료인 특강만 조회 합니다. (취소는 조회하지 않습니다.)
3. **특강 신청 API**
    - 현재 모집 중인 특강만 신청이 가능합니다.
    - 현재 수강 신청 인원이 정원에 미달한 경우에만 신청이 가능합니다.
    - 동일한 사용자는 동일한 특강을 중복 신청할 수 없습니다.
    - 강의 취소 후 재신청이 가능합니다.

### 테이블

`Lecture`

| column | description                                                                                      |
|--------|--------------------------------------------------------------------------------------------------|
|`recruitment_start_time` `recruitment_end_time` | 모집 기간을 나타내기 위한 컬럼입니다.                                                                            |
| `start_time` `end_time` | 강의 시간 정보를 나타내기 위한 컬럼입니다.                                                                         |
| `max_capacity` `current_capacity` | 수강 인원 정보를 나타내기 위한 컬럼입니다. |

**`current_capacity` 을 `Lecture` 테이블에 둔 이유**
- `Registration` 조인 없이 현재 신청 인원을 얻기 위한 목적

`Registration`

| column                      | description              |
|-----------------------------|--------------------------|
| `attendee_id`               | 모집 신청한 참석자를 나타내기 위한 컬럼입니다. |
| `lecture_id`                | 신청한 강의를 나타내기 위한 컬럼입니다.   |
| `status` | 신청 완료, 신청 취소 상태를 나타냅니다.  |

`Member`

| column | description              |
|--------|--------------------------|
| `role` | 강연자와 참석자를 구분하기 위한 컬럼입니다. |
